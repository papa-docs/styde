<!DOCTYPE html>
<html lang="uk">
<head>
     <!-- ...existing code... -->
<link rel="manifest" href="manifest.json">
<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<!-- ...existing code... -->
 <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, orientation=portrait">
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Студентський</title>
  <style>
    :root{
      --bg: #f7f8f9;
      --card: #fff;
      --muted: #9aa0a6;
      --accent: #489520;
      --radius: 12px;
      --gap: 12px;
      --container-pad: 12px;
      --max-width: 920px; /* для планшетов/десктопа */
    }

    html,body{height:100%; margin:0; background:#fff; font-family:-apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color:#111;}
    /* Учитываем вырезы / индикатор (iPhone и др) */
    .shell{padding: env(safe-area-inset-top) var(--container-pad) calc(env(safe-area-inset-bottom) + 84px) var(--container-pad); max-width:var(--max-width); margin:0 auto;}


/* Убираем выделение текста и синюю подсветку при клике */
.no-select {
  user-select: none;         /* стандарт */
  -webkit-user-select: none; /* Chrome/Safari */
  -moz-user-select: none;    /* Firefox */
  -ms-user-select: none;     /* IE/Edge */
}

.no-outline:focus {
  outline: none;             /* убираем рамку при фокусе */
}

a, a:focus, a:active {
  outline: none;             /* для ссылок */
  text-decoration: none;     /* убираем подчеркивание */
}

div:focus, div:active {
  outline: none;             /* убираем обводку и синий фон */
  -webkit-tap-highlight-color: transparent; /* для мобильных */
}

    /* Шапка */
    .header{
      display:flex; align-items:center; gap:12px;
      padding:14px 4px; background:transparent;
      position:sticky; top:0; z-index:10;
      backdrop-filter: blur(6px);
    }
    .gray {
  filter: grayscale(100%);
}
    .back{font-size:20px; width:36px; height:36px; display:flex; align-items:center; justify-content:center; border-radius:10px; cursor:pointer; color:#222;}
    .title{font-weight:600; font-size:18px; flex:1; text-align:center; margin-right:36px;}
.back img {
  width: 25px;
  height: 25px;
  object-fit: contain;
}

a {
  text-decoration: none; /* убирает подчеркивание */
  color: inherit;        /* наследует цвет от родителя или div */
}


    /* Вкладки */
    .tabs{
      display:flex; 
       
      background:#ebebeb;
      border-radius:999px;
    padding:3px 3px 3px 1px;
    }
    .tab{
      flex:1; text-align:center; padding:10px 8px; border-radius:999px; color:#1b1b1b; font-weight:600; cursor:pointer;
      user-select:none; font-size:15px;
    }
    .tab.active{ background:var(--card); color:#489520; box-shadow:0 1px 4px rgba(0,0,0,0.06); border-bottom:10px 10px #1b1b1b; }

    /* Список карточек */
    .list{ padding:10px 0 0; display:flex; flex-direction:column; gap:14px; }

    .card{
      display:flex; align-items:center; gap:12px;
      background:var(--card); border-radius:var(--radius); padding:14px;
      box-shadow: 0 2px 12px rgba(0,0,0,0.25);
    }

    .logo{ 
      flex:0 0 52px; height:52px; border-radius:7px; overflow:hidden; display:flex; align-items:center; justify-content:center;
      box-shadow:0 0px 8px rgba(0,0,0,0.3); background:#fff;
    }
    .logo img{ width:44px; height:44px; object-fit:contain; display:block; }

    .card-main{ letter-spacing: 0.4px; padding: 10px;  flex:1; min-width:0; } /* min-width чтобы текст переносился корректно */
    .city{ font-weight:700; font-size:16px; color:#111; line-height:1; }
    .company.active{ margin-top:2px; font-size:14px; color: #111; }
    .company.inactive{ color: #9aa0a6; }
    .meta{ margin-top:8px; font-size:14px; color:#333; display:flex; flex-direction:column; gap:6px; }
    .meta .dates{ color:#666; font-size:14px; }
    .meta .status{ font-size:14px; }
  

    .status.active{ color:#111; display:flex; align-items:center; gap:8px; }
    .status.inactive{ color:var(--muted);}

    /* Иконки справа (transport) */
    .icons{
      display:flex; flex-direction:column; gap:8px; align-items:center; justify-content:flex-start;
      flex:0 0 36px; color: #bfc6cb;
    }
    .icons svg{ width:22px; height:22px; opacity:0.9; }

    /* Фиксированная кнопка снизу */
    .bottom-bar{
      position:fixed; left:0; right:0; bottom:0; z-index:40;
      padding: calc(env(safe-area-inset-bottom) + 12px) var(--container-pad) 12px;
      
      
     
    }
    .btn{
      width:100%; max-width:980px; margin:0 auto; display:block;
      background:var(--accent); color:#fff; border:none; font-weight:700;
      font-size:16px; padding:14px; border-radius:12px; cursor:pointer;
      box-shadow: 0 6px 14px rgba(76,175,80,0.18);
    }

    /* Responsive tweaks */
    @media(min-width:720px){
      .shell{ padding-left:18px; padding-right:18px; }
      .card{ padding:16px; gap:16px; }
      .logo{ width:64px; height:64px; }
      .icons{ flex:0 0 44px; }
    }
  </style>
</head>
<body>
  <div class="shell">
    <div class="header">
      <div class="back" onclick="history.back()"><img src="налево.png" alt="Закрыть" class=""></div>
      <div class="title">Архів</div>
    </div>

    <div class="tabs">
      <div class="tab" id="tab-ticket" onclick="switchTab('ticket')">Квиток</div>
      <div class="tab active" id="tab-pass" onclick="switchTab('pass')">Проїзний</div>
    </div>
<a href="index.html">
    <div id="content-area" style="margin-top:10px;">
      <div id="cards" class="list"></div>
    </div>
  </div>
</a>
  <!-- нижняя фиксированная панель -->
  <div class="bottom-bar">
    <button class="btn" onclick="scanQR()">Відсканувати QR-код</button>
  </div>

<script>
  // Пример данных — можешь подгружать с сервера
  const tickets = [
    {
      city: "Одеса",
      company: "Одесміськелектротранс",
      start: "2025-09-02",
      end:   "2025-09-30",
      logo: "./Odesa.svg",
      icon: "metr-td.png",
      grayscale: false // локально прикреплено (замени на URL если нужно)
    },
    {
      city: "Одеса",
      company: "Одесміськелектротранс",
      start: "2023-09-01",
      end:   "2023-09-07",
      logo: "./Odesa-grey.png",
      icon: "metr-td-off.png",
      grayscale: true
    },
    {
      city: "Дніпро",
      company: "КП Дніпровський електротранспорт ДМР",
      start: "2023-07-11",
      end:   "2023-07-11",
      logo: "./Dnipro-grey.png",
      icon: "metr-td-off.png",
      grayscale: true
    }
  ];

  // Функция форматирования даты
  function formatDateISO(iso){
    const d = new Date(iso);
    if (isNaN(d)) return iso;
    return d.toLocaleDateString('uk-UA', {day:'2-digit', month:'2-digit', year:'numeric'});
  }

  // Рендер карточек
  function renderCards(list){
    const container = document.getElementById('cards');
    container.innerHTML = '';
    const now = new Date();

    list.forEach(item => {
      const start = new Date(item.start);
      const end   = new Date(item.end);
      const isActive = now >= start && now <= end;

      const card = document.createElement('div');
      card.className = 'card';

      // Структура карточки
      card.innerHTML = `
  <div class="logo"><img src="${item.logo}" alt="${item.city}" onerror="this.style.opacity=0.6; this.src='data:image/svg+xml;utf8,<svg xmlns=\\'http://www.w3.org/2000/svg\\' width=48 height=48><rect width=48 height=48 fill=%23f0f0f0 /></svg>'"></div>
  <div class="card-main">
    <div class="meta">
    <div class="dates" style="color: #9aa0a6;">${item.city}</div>
    <div class="company ${isActive ? 'active' : 'inactive'}">${item.company}</div>
    
      <div class="dates"> 
        <span style="color: #9aa0a6;">Строк дії</span><br>
</div>
      <div class="status ${isActive ? 'active' : 'inactive'}">${formatDateISO(item.start)} - ${formatDateISO(item.end)}</div>

        
      
      <div class="dates">
        <span style="color: #9aa0a6;">Дійсний</span><br>
        
      </div>
      <div class="status ${isActive ? 'active' : 'inactive'}">${isActive ? ('' + now.toLocaleString('uk-UA')) : 'Ні'}</div>
    </div>
  </div>
  <div class="icons">
    <img 
  src="${item.icon}" 
  alt="транспорт" 
  class="${!isActive ? 'gray' : ''}" 
  style="width:30px; height:100px;"
  onerror="this.classList.add('gray');">
  </div>
`;

      container.appendChild(card);
    });
  }

  // Инициализация
  renderCards(tickets);

  // Простые заглушки для вкладок/кнопки
  function switchTab(tab){
    document.getElementById('tab-ticket').classList.toggle('active', tab === 'ticket');
    document.getElementById('tab-pass').classList.toggle('active', tab === 'pass');
    // можно менять данные при переключении
    //renderCards(tab === 'ticket' ? tickets.filter(...) : tickets)
  }

  function scanQR(){
    alert('Запустить сканер QR (заглушка) — сюда подключаем нативный/браузерный сканер.');
  }
</script>
</body>
</html>
